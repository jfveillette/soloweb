<wo:CPAdminComponentWrapper>
	<script>
		jQuery(document).ready(function(){
			jQuery("#searchString").focus();
		});
	</script>
	<p><wo:link action="$cancel" class="btn">Hætta við</wo:link></p>
	<p>Tengi frá [<wo:str value="$object.entity.name" />:<wo:str value="$object.primaryKey" />] við [<wo:str value="$relationship.destinationEntity.name" />]</p>
	<div class="row">
		<div class="col-md-4">
			<wo:form class="form-search">
				<wo:textfield value="$searchString" id="searchString" class="searchField input-medium search-query" placeholder="Leita…" />
				<wo:AjaxObserveField observeFieldID="searchString" updateContainerID="list" observeFieldFrequency="1" action="$resetDG" />
			</wo:form>
		</div>
	</div>
	<wo:AjaxUpdateContainer id="list">
		<wo:if condition="$dg.hasMultipleBatches">
			<div class="row">
				<div class="col-md-12">
					<wo:IMBatchNavigation dg="$dg" />
				</div>
			</div>
		</wo:if>
		<div class="row">
			<div class="col-md-12">		
				<table class="table table-striped table-bordered table-condensed">
					<thead>
						<tr>
							<th>#</th>
							<wo:if condition="$viewDefinition.attributesToShow.count">
								<wo:repetition list="$viewDefinition.attributesToShow" item="$currentAttribute">
									<th><wo:str value="$currentAttribute.icelandicName" /></th>
								</wo:repetition>
							</wo:if>
							<wo:if condition="$viewDefinition.attributesToShow.count" negate="$true">
								<th></th>
							</wo:if>
						</tr>
					</thead>
					<tbody>
						<wo:repetition list="$dg.displayedObjects" item="$currentObject">
							<tr>
								<td><wo:link action="$selectObject"><wo:str value="$currentObject.primaryKey" valueWhenEmpty="(óskráð)" /></wo:link></td>
								<wo:if condition="$viewDefinition.attributesToShow.count">
									<wo:repetition list="$viewDefinition.attributesToShow" item="$currentAttribute">
										<td><wo:IMValue object="$currentValue" /></td>
									</wo:repetition>
								</wo:if>
								<wo:if condition="$viewDefinition.attributesToShow.count" negate="$true">
									<td><wo:IMValue object="$currentObject" /></td>
								</wo:if>
							</tr>
						</wo:repetition>
					</tbody>
				</table>
			</div>
		</div>
	</wo:AjaxUpdateContainer>
</wo:CPAdminComponentWrapper>